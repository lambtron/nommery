<!-- index.html -->
<!DOCTYPE html>

<!-- ASSIGN OUR ANGULAR MODULE -->
<html lang="en" ng-app="nommeryApp">
<head>
	<!-- META -->
	<meta charset="utf-8">

	<title>Nommery</title>

	<!-- SCROLLS -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="/public/css/index.css">

	<!-- SPELLS -->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
	<!-- <script type="text/javascript" src="/bower_components/jquery/jquery.js"></script> -->
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
	<!-- <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.5/angular.min.js"></script> -->

	<!-- BOWER FILES -->
	<link rel="stylesheet" href="bower_components/select2/select2.css">
	<script type="text/javascript" src="bower_components/select2/select2.js"></script>
	<script type="text/javascript" src="bower_components/angular/angular.js"></script>
	<script type="text/javascript" src="bower_components/angular-ui-select2/src/select2.js"></script>

	<script src="/public/js/app.js"></script>
	<script src="/public/js/controllers.js"></script>

	<!-- Page specific js. -->
	<script src="/public/js/index.js"></script>

	<!-- Relative routing for $locationProvider. -->
	<base href="/">
</head>

<body>
	<nav id="navbar" class="navbar navbar-default" role="navigation">
		<div class="navbar-header">
			<a class="navbar-brand" href="#">Brand</a>
		</div>
	</nav>
	<div class="container" ng-controller="mainController" style="width: 800px">
		<div class="row">
			<div class="col-lg-12">
				<div class="">
					<select ui-select2="filterRegion"
									ng-model="selectedRegion"
									data-placeholder="Filter by Region"
									class="pull-left filter">
						<option value=""></option>
						<option ng-repeat="region in regions"
										value="{{region}}">
							{{region}}
						</option>
					</select>

				</div>
				<div class="btn btn-info pull-right">
					Become a Host
				</div>
			</div>
		</div>
		<ul class="events">
			<li ng-repeat="event in events | filter:selectedRegion" class="event rounded-corners-20" style="position: relative">
				<div class="pictures">
					<div class="thumb rounded-corners-10">
						<img src="{{event.pictures[0].imgUrl}}"/>
					</div>
				</div>
				<div class="">
					<div class="info">
						<h4>
							{{event.title}}
						</h4>
						<p>
							{{event.neighborhood}}
						</p>
						<p>
							{{event.datetime}}
						</p>
					</div>

					<ul class="attendees">
						<li ng-repeat="attendee in event.attendees" class="attendee-container">
							<div class="attendee">
								<img src="http://i.imgur.com/JcwUkLdb.jpg" class="circle">
							</div>
						</li>
					</ul>
				</div>

				<!-- Action button. -->
				<div class="btn btn-primary action" style="position: absolute; right: 20px; bottom: 20px; z-index: 2">
					<div ng-show="event.attendees.length + 1 < event.partyMax">
						RSVP
					</div>
					<div ng-hide="event.attendees.length + 1 < event.partyMax">
						Join Waitlist
					</div>
				</div>

				<!-- Grey out if event is full. -->
				<div class="rounded-corners-20" ng-class="{gray: event.attendees.length + 1 >= event.partyMax}">
				</div>

				<!-- Clear both. -->
				<div style="clear: both">
				</div>
			</li>
		</ul>
	</div>
</body>
</html>